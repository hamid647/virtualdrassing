{% extends 'home.html'%}

{% load static %}
{% static "images" as baseUrl %}      

{% block bootstrap %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
{% endblock bootstrap %}       

{% block css %}
<style>
    #upload-label {
  cursor: pointer;
  justify-content: center;
  text-align: center;
}
.manage_img1{
  width: 100%;
  height: 100px; 
}
</style>
{% endblock css %}


{% block content %}
      





<div class="container mt-5">

    <!-- SIGNUP section start -->
    <div class="row justify-content-center mb-5">
        <div class="col-lg-6 col-md-8 col-10 border p-3">
            <h1 class="text-center">Add New Product</h1>
            <hr class="mx-auto" style="width: 80%; color: coral;">
            
            <form action="/edit/{{add.id}}" method="post" enctype="multipart/form-data">
              {% csrf_token %}

                <div>
                    <label for="name" class="form-label my-3">Product Name</label>
                    <input value="{{add.name}}" required type="text" name="name" class="form-control cft1" placeholder="Enter Product Name"  >    
                </div>
                <div>
                    <label for="name" class="form-label my-3">Catagory</label>
                    <select name="catagory" class="form-control cft1" id="#">
                        <option selected>{{add.catagory}}</option>
                        <option value="T-Shirt">T-Shirt</option>

                    </select>
                </div>
                
                <div>
                    <label for="price" class="form-lable my-3">Price</label>
                    <input value="{{add.price}}" required type="number" min="0" step="1" name="price" class="form-control cft1" placeholder="Entar Price">
                </div>
                
                <div>
                    <label for="#" class="form-label my-3">Images</label>
                </div>
                <div class="row" id="row">
                    <div class="col-3">
                        <div  id="preview"><img src="{{add.img.url}}" class="manage_img1" alt="img"></div>
                        <div class="upload-btn text-center" id="upload-btn">
                            <label for="image_input" class="upload-label" id="upload-label">  <i class="fa-sharp fa-solid fa-upload"></i> Upload</label>
                            <input value="{{add.img.url}}" class="form-control p1" id="image_input" name="img" type="file" id="formFile" accept="image/*" onchange="getImagePreview(event, 'preview2')" style="display: none;">
                        </div>
                    </div>
                    <div class="col-3">
                        <div id="preview2" >{% if add.img2 %}<img src="{{add.img2.url}}" class="manage_img1" alt="img">{% endif %}</div>
                        <div class="upload-btn text-center" id="upload-btn">
                            <label for="image_input2" class="upload-label" id="upload-label">  <i class="fa-sharp fa-solid fa-upload"></i> Upload</label>
                            <input value="none" class="form-control p1" id="image_input2" name="img2" type="file" id="formFile" accept="image/*" onchange="getImagePreview2(event, 'preview3')" style="display: none;">
                        </div>
                    </div>
                    <div class="col-3">
                        <div id="preview3" >{% if add.img3 %}<img src="{{add.img3.url}}" class="manage_img1" alt="img">{% endif %}</div>
                        <div class="upload-btn text-center" id="upload-btn">
                            <label for="image_input3" class="upload-label" id="upload-label">  <i class="fa-sharp fa-solid fa-upload"></i> Upload</label>
                            <input value="none" class="form-control p1" id="image_input3" name="img3" type="file" id="formFile" accept="image/*" onchange="getImagePreview3(event, 'preview4')" style="display: none;">
                        </div>
                    </div>
                    <div class="col-3">
                        <div id="preview4" >{% if add.img4 %}<img src="{{add.img4.url}}" class="manage_img1" alt="img">{% endif %}</div>
                        <div class="upload-btn text-center" id="upload-btn">
                            <label for="image_input4" class="upload-label" id="upload-label">  <i class="fa-sharp fa-solid fa-upload"></i> Upload</label>
                            <input value="none" class="form-control p1" id="image_input4" name="img4" type="file" id="formFile" accept="image/*" onchange="getImagePreview4(event, preview5)" style="display: none;">
                        </div>
                    </div>
                    
                </div>


                <div>
                    <label for="#" class="form-label my-3">Discription</label>

                    <textarea class="form-control" name="discription" id="exampleFormControlTextarea1" placeholder="Enter More Details" rows="10" >{{add.discription}}</textarea>
                </div>
                
                <div class="justify-content-center">
                  <div class="col-12 text-center"> 
                      <button class="btn cb1 my-3" >UPDATE</button>
                  </div>
                  
                </div>
              </form>
              
              
        </div>
    </div>
    <!-- SIGNUP section end -->

</div>



{% endblock content %}


{% block js %}

<script>
    // for upload image

function getImagePreview(event, nextPreview)
  {
    var image=URL.createObjectURL(event.target.files[0]);
    var imagediv= document.getElementById('preview');
    var newimg=document.createElement('img');
    imagediv.innerHTML='';
    newimg.src=image;
    newimg.width="119";
    newimg.height="100";
    imagediv.appendChild(newimg);

    var nextImagediv= document.getElementById(nextPreview);
    nextImagediv.style.display = "block";
    var nextUploadBtn= nextImagediv.nextElementSibling;
    nextUploadBtn.style.display = "flex";
  }
  
function getImagePreview2(event, nextPreview)
  {
    var image=URL.createObjectURL(event.target.files[0]);
    var imagediv= document.getElementById('preview2');
    var newimg=document.createElement('img');
    imagediv.innerHTML='';
    newimg.src=image;
    newimg.width="119";
    newimg.height="100";
    imagediv.appendChild(newimg);


    var nextImagediv= document.getElementById(nextPreview);
    nextImagediv.style.display = "block";
    var nextUploadBtn= nextImagediv.nextElementSibling;
    nextUploadBtn.style.display = "flex";
  }

function getImagePreview3(event, nextPreview)
  {
    var image=URL.createObjectURL(event.target.files[0]);
    var imagediv= document.getElementById('preview3');
    var newimg=document.createElement('img');
    imagediv.innerHTML='';
    newimg.src=image;
    newimg.width="119";
    newimg.height="100";
    imagediv.appendChild(newimg);


    var nextImagediv= document.getElementById(nextPreview);
    nextImagediv.style.display = "block";
    var nextUploadBtn= nextImagediv.nextElementSibling;
    nextUploadBtn.style.display = "flex";
  }
  
  function getImagePreview4(event, nextPreview)
  {
    var image=URL.createObjectURL(event.target.files[0]);
    var imagediv= document.getElementById('preview4');
    var newimg=document.createElement('img');
    imagediv.innerHTML='';
    newimg.src=image;
    newimg.width="119";
    newimg.height="100";
    imagediv.appendChild(newimg);


    var nextImagediv= document.getElementById(nextPreview);
    nextImagediv.style.display = "block";
    var nextUploadBtn= nextImagediv.nextElementSibling;
    nextUploadBtn.style.display = "flex";
  }
</script>
{% endblock js %}
